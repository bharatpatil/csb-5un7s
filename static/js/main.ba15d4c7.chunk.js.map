{"version":3,"sources":["VaccineDataContext.js","Beep.js","data.ts","CityDropdown.js","DateField.js","VaccineSlots.js","App.js","index.js"],"names":["VaccineDataContext","React","createContext","getData","url","Promise","resolve","reject","fetch","then","resp","json","data","VaccineProvider","props","countDownTimerRef","useRef","useSetState","startDate","Date","toLocaleDateString","replace","cities","shouldBeep","startBipping","startMonitoring","isFetching","monitorIntervalMilliseconds","countdown","slots","lastChecked","state","setState","useEffect","stopCountDown","clearInterval","current","length","alert","console","log","responses","forEach","city","checkDate","date","getStartDate","i","dateStr","apiUrl","push","setDate","getDate","all","cityCalendar","map","slot","sessions","filter","session","min_age_limit","available_capacity","toLocaleTimeString","setInterval","prevState","dateParts","split","Provider","value","children","Beep","useContext","timer","count","Audio","play","type","id","name","checked","onChange","event","target","htmlFor","CityDropdown","selectedCities","cityObj","includes","cityName","multiple","e","Array","from","selectedOptions","option","join","DateField","style","width","VaccineSlots","onClick","block_name","district_name","pincode","color","vaccine","App","href","maxWidth","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.ba15d4c7.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useRaf, useSetState, useWindowSize } from \"react-use\";\n\nexport const VaccineDataContext = React.createContext();\n\nfunction getData(url) {\n  return new Promise((resolve, reject) => {\n    fetch(url)\n      .then((resp) => resp.json())\n      .then((data) => {\n        resolve(data);\n      });\n  });\n}\n\nexport const apiUrlTemplate = (distId, checkDate) =>\n  `https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByDistrict?district_id=${distId}&date=${checkDate}`;\n\nexport const VaccineProvider = (props) => {\n  const countDownTimerRef = React.useRef();\n\n  const [state, setState] = useSetState({\n    startDate: new Date()\n      .toLocaleDateString(\"en-IN\")\n      .replace(\"/\", \"-\")\n      .replace(\"/\", \"-\"),\n    cities: [],\n    shouldBeep: true,\n    startBipping: false,\n    startMonitoring: false,\n    isFetching: false,\n    monitorIntervalMilliseconds: 60000,\n    countdown: 0,\n    slots: [],\n    lastChecked: \"\"\n  });\n\n  React.useEffect(() => {\n    return stopCountDown;\n  }, []);\n\n  React.useEffect(() => {\n    startMonitoring();\n  }, [state.startMonitoring, state.countdown]);\n\n  const startCountDown = () => {\n    countDownTimerRef.current = setInterval(() => {\n      setState((prevState) => ({\n        countdown: prevState.countdown - 1\n      }));\n    }, 1000);\n  };\n\n  const stopCountDown = () => {\n    clearInterval(countDownTimerRef.current);\n  };\n\n  const startMonitoring = () => {\n    if (state.startMonitoring) {\n      if (state.cities.length === 0) {\n        alert(\"Please select city\");\n        stopCountDown();\n        setState({ startMonitoring: false });\n        return;\n      }\n\n      if (state.countdown === 0) {\n        console.log(\"starting\");\n        stopCountDown();\n        setState({ isFetching: true });\n        const responses = [];\n        state.cities.forEach((city) => {\n          const date = getStartDate();\n          for (let i = 0; i < 7; i++) {\n            const dateStr = date\n              .toLocaleDateString(\"en-IN\")\n              .replace(\"/\", \"-\")\n              .replace(\"/\", \"-\");\n            const apiUrl = apiUrlTemplate(city, dateStr);\n            responses.push(getData(apiUrl));\n            date.setDate(date.getDate() + 1);\n          }\n        });\n\n        Promise.all(responses).then((cityCalendar) => {\n          setState({\n            slots: cityCalendar\n              .map((slot) => ({\n                sessions: slot.sessions.filter(\n                  (session) =>\n                    session.min_age_limit === 18 &&\n                    session.available_capacity > 0\n                )\n              }))\n              .filter((slot) => slot.sessions.length > 0),\n            isFetching: false,\n            countdown: 60,\n            lastChecked: new Date().toLocaleTimeString()\n          });\n          startCountDown();\n        });\n      }\n    } else {\n      stopCountDown();\n      setState({ countdown: 0 });\n    }\n  };\n\n  const getStartDate = () => {\n    const dateParts = state.startDate.split(\"-\");\n    return new Date(dateParts[2], dateParts[1] - 1, dateParts[0]);\n  };\n\n  return (\n    <VaccineDataContext.Provider value={{ state, setState }}>\n      {props.children}\n    </VaccineDataContext.Provider>\n  );\n};\n","import React from \"react\";\nimport { VaccineDataContext } from \"./VaccineDataContext\";\n\nconst beepSound = () => {\n  var snd = new Audio(\n    \"data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=\"\n  );\n  snd.play();\n};\n\nexport const Beep = () => {\n  const { state, setState } = React.useContext(VaccineDataContext);\n  const { slots, shouldBeep } = state;\n\n  // if slots found then trigger beep sound\n  React.useEffect(() => {\n    let timer;\n    let count = 0;\n    if (shouldBeep && slots.length > 0) {\n      timer = setInterval(() => {\n        beepSound();\n        if (++count === 5) {\n          clearInterval(timer);\n        }\n      }, 1000);\n    }\n    return () => clearInterval(timer);\n  }, [slots, shouldBeep]);\n\n  const onChange = (event) => {\n    const target = event.target;\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\n\n    setState({ shouldBeep: value });\n  };\n\n  return (\n    <p>\n      <input\n        type=\"checkbox\"\n        id=\"beep\"\n        name=\"beep\"\n        checked={state.shouldBeep}\n        onChange={onChange}\n      />\n      <label htmlFor=\"beep\">Beep on open slots</label>\n    </p>\n  );\n};\n","export const cities = [\n  { \"id\": \"622\", \"cityName\": \"Agra\" },\n  { \"id\": \"154\", \"cityName\": \"Ahmedabad\" },\n  { \"id\": \"265\", \"cityName\": \"Bangalore Urban\" },\n  { \"id\": \"571\", \"cityName\": \"Chennai\" },\n  { \"id\": \"140\", \"cityName\": \"Delhi, New\" },\n  { \"id\": \"149\", \"cityName\": \"Delhi, South\" },\n  { \"id\": \"145\", \"cityName\": \"Delhi, East\" },\n  { \"id\": \"142\", \"cityName\": \"Delhi, West\" },\n  { \"id\": \"146\", \"cityName\": \"Delhi, North\" },\n  { \"id\": \"307\", \"cityName\": \"Ernakulam, Kerala\" },\n  { \"id\": \"651\", \"cityName\": \"Gaziabad\" },\n  { \"id\": \"581\", \"cityName\": \"Hyderabad\" },\n  { \"id\": \"544\", \"cityName\": \"Kanyakumari\" },\n  { \"id\": \"725\", \"cityName\": \"Kolkotta\" },\n  { \"id\": \"596\", \"cityName\": \"Medchal, Telangana\" },\n  { \"id\": \"395\", \"cityName\": \"Mumbai\" },\n  { \"id\": \"266\", \"cityName\": \"Mysore\" },\n  { \"id\": \"650\", \"cityName\": \"Noida\" },\n  { \"id\": \"308\", \"cityName\": \"Palakkad, Kerala\" },\n  { \"id\": \"363\", \"cityName\": \"Pune\" },\n  { \"id\": \"173\", \"cityName\": \"Rajkot, Gujarat\" },\n  { \"id\": \"775\", \"cityName\": \"Rajkot Corporation, Gujarat\" },\n  { \"id\": \"603\", \"cityName\": \"Ranga Reddy, Telangana\" },\n  { \"id\": \"296\", \"cityName\": \"Thiruvananthapuram, Kerala\" },\n  { \"id\": \"167\", \"cityName\": \"Valsad, Gujarat\" }\n];\n","import React from \"react\";\nimport { cities } from \"./data\";\nimport { VaccineDataContext } from \"./VaccineDataContext\";\n\nexport const CityDropdown = () => {\n  const { state, setState } = React.useContext(VaccineDataContext);\n\n  const onSelectChange = (e) => {\n    let value = Array.from(e.target.selectedOptions, (option) => option.value);\n    setState({ cities: value });\n  };\n\n  const selectedCities = cities\n    .filter((cityObj) => state.cities.includes(cityObj.id))\n    .map((cityObj) => cityObj.cityName);\n\n  return (\n    <div>\n      <select\n        name=\"city\"\n        id=\"city\"\n        multiple\n        value={state.cities}\n        onChange={onSelectChange}\n      >\n        {cities.map(({ id, cityName }) => (\n          <option key={id} value={id}>\n            {cityName}\n          </option>\n        ))}\n      </select>\n      <p>\n        Selected {selectedCities.length > 1 ? \"Cities\" : \"City\"}:{\" \"}\n        {selectedCities.join(\" | \")}\n      </p>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { VaccineDataContext } from \"./VaccineDataContext\";\n\nexport const DateField = () => {\n  const { state, setState } = React.useContext(VaccineDataContext);\n\n  const onDateChange = (e) => {\n    setState({ startDate: e.target.value });\n  };\n\n  return (\n    <input\n      type=\"text\"\n      id=\"date\"\n      name=\"date\"\n      value={state.startDate}\n      onChange={onDateChange}\n      style={{ width: 80 }}\n    />\n  );\n};\n","import React from \"react\";\nimport { VaccineDataContext } from \"./VaccineDataContext\";\n\nexport const VaccineSlots = () => {\n  const { state, setState } = React.useContext(VaccineDataContext);\n\n  const { slots, startMonitoring, isFetching, countdown, lastChecked } = state;\n\n  const onStartMonitoring = () => {\n    setState({ startMonitoring: !startMonitoring });\n  };\n\n  return (\n    <div>\n      <button type=\"button\" onClick={onStartMonitoring}>\n        <span>{startMonitoring ? \"Stop\" : \"Start Monitoring\"}</span>\n      </button>\n\n      {isFetching ? (\n        <p>'Checking slots...'</p>\n      ) : startMonitoring ? (\n        <p>\n          {lastChecked && (\n            <span>\n              Last checked at {lastChecked} <br />\n            </span>\n          )}\n          Checking again in: {countdown} seconds\n        </p>\n      ) : (\n        <p></p>\n      )}\n\n      {slots.length > 0 ? (\n        <ul>\n          {slots.map((slot, i) => {\n            return slot?.sessions.map((session, i) => {\n              return (\n                <li key={i}>\n                  {session.date} {session.name}, {session.block_name},{\" \"}\n                  {session.district_name}, {session.pincode},{\" \"}\n                  <span style={{ color: \"#00cc00\" }}>{session.vaccine}</span> -{\" \"}\n                  <span style={{ color: \"#ff0080\" }}>\n                    {session.available_capacity} slots\n                  </span>{\" \"}\n                  <span>(Age limit {session.min_age_limit})</span>\n                </li>\n              );\n            });\n          })}\n        </ul>\n      ) : (\n        <p>\n          <b>No open slots are available.</b>\n        </p>\n      )}\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Beep } from \"./Beep\";\nimport { CityDropdown } from \"./CityDropdown\";\nimport { DateField } from \"./DateField\";\nimport \"./styles.css\";\nimport { VaccineProvider } from \"./VaccineDataContext\";\nimport { VaccineSlots } from \"./VaccineSlots\";\n\nexport default function App() {\n  return (\n    <VaccineProvider>\n      <div>\n        <p>\n          Inspired by{\" \"}\n          <a target=\"_blank\" href=\"https://pranavmehta.github.io/1844vaccine/\">\n            https://pranavmehta.github.io/1844vaccine/\n          </a>\n          <br />\n          <sub>This is the re-written in reactjs just for fun ♥️</sub>\n        </p>\n        <h1>Cowin open slot alert for 18-44 age group</h1>\n        <p style={{ maxWidth: 600 }}>\n          This bot periodically checks the Cowin portal for available\n          vaccination slots for the 18-44 age group every 60 seconds and alerts\n          with an audible beep if an open slot is found.\n        </p>\n         <p>To use this bot,</p>\n        <ul>\n          <li>select one or more cities,</li>\n          <li>click \"Start monitoring\"</li>\n          <li>keep it running in a browser tab</li>\n        </ul>\n        <p>\n          Start date: <DateField /> (dd-mm-yyyy, checks for upto 7 days from\n          this date)\n        </p>\n        <CityDropdown />\n        <Beep />\n        <VaccineSlots />\n      </div>\n    </VaccineProvider>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}